create table Person (
	PID serial, 
	FirstName varchar(255) NOT NULL,
	LastName varchar(255), 
	Address varchar(255) NOT NULL, 
	Email varchar(255) NOT NULL, 
	PhoneNumber varchar(255), 
	password varchar(10),
	PRIMARY KEY(PID));
	
create table Host(
	PID int, 
	IDH serial,
	PRIMARY KEY(PID,IDH));

create table Guest(
	PID int,
	IDG serial,
	PRIMARY KEY(PID,IDG));
	
create table Employee(
	PID int NOT NULL,
	EmployID serial,
	Position varchar(255) NOT NULL, 
	Salary varchar(20) NOT NULL, 
	PRIMARY KEY(PID,EmployID));
	
create table Pricing(
	IDPricing int NOT NULL,
	Price int NOT NULL, 
	RoomRule varchar(255), 
	Amenity varchar(255), 
	IDPR int,
	PRIMARY KEY(IDPricing)
	FOREIGN KEY (IDPR) REFERENCES Property(IDPR));

create table Branch(
	Country varchar(255) NOT NULL, 
	PRIMARY KEY(Country));

create table Property(
	IDPR serial, 
	Address varchar(255) NOT NULL, 
	PropertyType varchar(255) NOT NULL, 
	Roomnumber int NOT NULL, 
	Title varchar(255) NOT NULL, 
	Country varchar(255) NOT NULL, 
	IDH int,
	PRIMARY KEY(IDPR),  
	FOREIGN KEY (Country) REFERENCES Branch(Country)
	FOREIGN KEY (IDH) REFERENCES Host(IDH));


create table RetalAgreement(
	IDRA int NOT NULL, 
	StartDate date NOT NULL, 
	EndDate date NOT NULL, 
	IDG int NOT NULL, 
	IDH int NOT NULL, 
	IDP INT NOT NULL, 
	PRIMARY KEY(IDRA), 
	FOREIGN KEY (IDG) REFERENCES Guest(IDG),
	FOREIGN KEY (IDP) REFERENCES Property(IDP), 
	FOREIGN KEY (IDH) REFERENCES Host(IDH));

create table Payment(
	IDRA int NOT NULL, 
	IDPAY int NOT NULL, 
	Amount int NOT NULL, 
	PaymentType varchar(255) NOT NULL, 
	Status varchar(255) NOT NULL, 
	Approve varchar(10) NOT NULL, 
	IDH int NOT NULL, 
	PRIMARY KEY(IDRA,IDPAY), 
	FOREIGN KEY (IDH) REFERENCES Host(IDH));

create table Review(
	IDR int NOT NULL, 
	Rating int NOT NULL, 
	Communication int NOT NULL, 
	Cleanliness int NOT NULL, 
	ReValue int NOT NULL, 
	IDG int NOT NULL, 
	IDP int NOT NULL, 
	PRIMARY KEY(IDR), 
	FOREIGN KEY (IDG) REFERENCES Guest(IDG), 
	FOREIGN KEY (IDP) REFERENCES Property(IDP));

create table login(
	username varchar(20) NOT NULL,
	userpassword varchar(20) NOT NULL,
	PID int NOT NULL,
	PRIMARY KEY(username,userpassword),FOREIGN KEY(PID) REFERENCES Person (PID));







insert into project.person(firstname,lastname,address,email,phonenumber,password) values
	('a','a','a','a','a',111),
	('b','b','b','b','b',222),
	('c','c','c','c','c',333),
	('d','d','d','d','d',444),
	('e','e','e','e','e',555),
	('f','f','f','f','f',666),
	('g','g','g','g','g',777),
	('h','h','h','h','h',888),
	('i','i','i','i','i',999);

insert into project.host(pid) values
	(1),
	(2),
	(3),
	(4),
	(5),
	(6),
	(7),
	(8),
	(9);
	
insert into project.branch values
	('China'),
	('Canada'),
	('America');
	
insert into project.property(address, propertytype,roomnumber,title,country,idh) values
	('100 lees','apartment',2,'King Apartment','China',1),
	('110 lees','apartment',3,'Queen Apartment','China',2),
	('120 lees','apartment',1,'Single Apartment','Canada',3),
	('130 lees','house',5,'King House','Canada',4),
	('140 lees','house',6,'Queen House','America',5),
	('150 lees','hotel',100,'King Hotel','Canada',6),
	('160 lees','hotel',100,'King Hotel','America',7);
	
